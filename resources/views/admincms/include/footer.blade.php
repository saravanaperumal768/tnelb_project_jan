<!-- Success Modal -->
<div id="successModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Success</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <!-- Success message will be injected here -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
</div>

<!-- Error Modal -->
<div id="errorModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Error</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <!-- Error message will be injected here -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- END GLOBAL MANDATORY SCRIPTS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<!-- BEGIN GLOBAL MANDATORY SCRIPTS -->
<!-- <script src="{{ asset('assets/admin/jquery-3.6.0.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/global/vendors.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/perfect-scrollbar/perfect-scrollbar.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/mousetrap/mousetrap.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/waves/waves.min.js') }}"></script>
<script src="{{ asset('assets/admin/layouts/vertical-light-menu/app.js') }}"></script>
<script src="{{ asset('assets/admin/src/assets/js/custom.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/bootstrap-maxlength/bootstrap-maxlength.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/bootstrap-maxlength/custom-bs-maxlength.js') }}"></script>

<script src="{{ asset('assets/admin/select2/dist/js/select2.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/sweetalerts2/sweetalerts2.min.js') }}"></script>


<script src="{{ asset('assets/admin/src/plugins/src/drag-and-drop/dragula/dragula.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/drag-and-drop/dragula/custom-dragula.js') }}"></script>


<script src="{{ asset('assets/admin/src/plugins/src/drag-and-drop/dragula/custom-dragula.js') }}"></script>

<script src="{{ asset('assets/admin/src/plugins/src/glightbox/glightbox.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/glightbox/custom-glightbox.min.js') }}"></script>

<script src="{{ asset('assets/portaladmin/summernote-bs4.min.js') }}"></script>

<script src="{{ asset('assets/portaladmin/rte.js') }}"></script>

<script src="{{ asset('assets/portaladmin/all_plugins.js') }}"></script>

<script src="{{ asset('assets/portaladmin/ckeditor.js') }}"></script>

<script src="{{ asset('assets/portaladmin/custom-ajax.js') }}"></script>

<script src="{{ asset('assets/portaladmin/custom-two-ajax.js') }}"></script>

 -->

<!-- <script src="{{ asset('assets/portaladmin/custom-two-ajax.js') }}"></script> -->

<script src="{{ asset('assets/admin/jquery-3.6.0.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/global/vendors.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/perfect-scrollbar/perfect-scrollbar.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/mousetrap/mousetrap.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/waves/waves.min.js') }}"></script>
<script src="{{ asset('assets/admin/layouts/vertical-light-menu/app.js') }}"></script>
<script src="{{ asset('assets/admin/src/assets/js/custom.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/bootstrap-maxlength/bootstrap-maxlength.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/bootstrap-maxlength/custom-bs-maxlength.js') }}"></script>

<script src="{{ asset('assets/admin/select2/dist/js/select2.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/sweetalerts2/sweetalerts2.min.js') }}"></script>


<script src="{{ asset('assets/admin/src/plugins/src/drag-and-drop/dragula/dragula.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/drag-and-drop/dragula/custom-dragula.js') }}"></script>


<script src="{{ asset('assets/admin/src/plugins/src/drag-and-drop/dragula/custom-dragula.js') }}"></script>

<!-- END GLOBAL MANDATORY SCRIPTS -->
<script src="{{ asset('assets/admin/src/plugins/src/glightbox/glightbox.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/glightbox/custom-glightbox.min.js') }}"></script>

<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="{{ asset('assets/portaladmin/summernote-bs4.min.js') }}"></script>

<script src="{{ asset('assets/portaladmin/rte.js') }}"></script>

<script src="{{ asset('assets/portaladmin/all_plugins.js') }}"></script>

<script src="{{ asset('assets/portaladmin/ckeditor.js') }}"></script>

<script src="{{ asset('assets/portaladmin/scriptmenu.js') }}"></script>

<script src="{{ asset('assets/portaladmin/custom-ajax.js') }}"></script>

<script src="{{ asset('assets/portaladmin/equipajax.js') }}"></script>

<script src="{{ asset('assets/portaladmin/custom-two-ajax.js') }}"></script>

<script src="{{ asset('assets/admin/src/plugins/src/table/datatable/datatables.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/table/datatable/button-ext/dataTables.buttons.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/assets/js/apps/contact.js') }}"></script>
<script src="{{ asset('assets/admin/src/assets/js/apps/invoice-list.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/editors/quill/highlight.min.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/editors/quill/quill.js') }}"></script>
<script src="{{ asset('assets/admin/src/plugins/src/editors/quill/katex.min.js') }}"></script>

<script>
    var editor1 = new RichTextEditor("#div_editor1");
    //editor1.setHTMLCode("Use inline HTML or setHTMLCode to init the default content.");
</script>


<script>
    // var e;
    c1 = $('#style-1').DataTable({
        headerCallback: function(e, a, t, n, s) {
            e.getElementsByTagName("th")[0].innerHTML = `
                <div class="form-check form-check-primary d-block">
                    <input class="form-check-input chk-parent" type="checkbox" id="form-check-default">
                </div>`
        },
        columnDefs: [{
            targets: 0,
            width: "30px",
            className: "",
            orderable: !1,
            render: function(e, a, t, n) {
                return `
                    <div class="form-check form-check-primary d-block">
                        <input class="form-check-input child-chk" type="checkbox" id="form-check-default">
                    </div>`
            }
        }],
        "dom": "<'dt--top-section'<'row'<'col-12 col-sm-6 d-flex justify-content-sm-start justify-content-center'l><'col-12 col-sm-6 d-flex justify-content-sm-end justify-content-center mt-sm-0 mt-3'f>>>" +
            "<'table-responsive'tr>" +
            "<'dt--bottom-section d-sm-flex justify-content-sm-between text-center'<'dt--pages-count  mb-sm-0 mb-3'i><'dt--pagination'p>>",
        "oLanguage": {
            "oPaginate": {
                "sPrevious": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',
                "sNext": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>'
            },
            "sInfo": "Showing page _PAGE_ of _PAGES_",
            "sSearch": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>',
            "sSearchPlaceholder": "Search...",
            "sLengthMenu": "Results :  _MENU_",
        },
        "lengthMenu": [5, 10, 20, 50],
        "pageLength": 10
    });

    multiCheck(c1);

    c2 = $('#style-2').DataTable({
        headerCallback: function(e, a, t, n, s) {
            e.getElementsByTagName("th")[0].innerHTML = `
                <div class="form-check form-check-primary d-block new-control">
                    <input class="form-check-input chk-parent" type="checkbox" id="form-check-default">
                </div>`
        },
        columnDefs: [{
            targets: 0,
            width: "30px",
            className: "",
            orderable: !1,
            render: function(e, a, t, n) {
                return `
                    <div class="form-check form-check-primary d-block new-control">
                        <input class="form-check-input child-chk" type="checkbox" id="form-check-default">
                    </div>`
            }
        }],
        "dom": "<'dt--top-section'<'row'<'col-12 col-sm-6 d-flex justify-content-sm-start justify-content-center'l><'col-12 col-sm-6 d-flex justify-content-sm-end justify-content-center mt-sm-0 mt-3'f>>>" +
            "<'table-responsive'tr>" +
            "<'dt--bottom-section d-sm-flex justify-content-sm-between text-center'<'dt--pages-count  mb-sm-0 mb-3'i><'dt--pagination'p>>",
        "oLanguage": {
            "oPaginate": {
                "sPrevious": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',
                "sNext": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>'
            },
            "sInfo": "Showing page _PAGE_ of _PAGES_",
            "sSearch": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>',
            "sSearchPlaceholder": "Search...",
            "sLengthMenu": "Results :  _MENU_",
        },
        "lengthMenu": [5, 10, 20, 50],
        "pageLength": 10
    });

    multiCheck(c2);

    c3 = $('#style-3').DataTable({
        "dom": "<'dt--top-section'<'row'<'col-12 col-sm-6 d-flex justify-content-sm-start justify-content-center'l><'col-12 col-sm-6 d-flex justify-content-sm-end justify-content-center mt-sm-0 mt-3'f>>>" +
            "<'table-responsive'tr>" +
            "<'dt--bottom-section d-sm-flex justify-content-sm-between text-center'<'dt--pages-count  mb-sm-0 mb-3'i><'dt--pagination'p>>",
        "oLanguage": {
            "oPaginate": {
                "sPrevious": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',
                "sNext": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>'
            },
            "sInfo": "Showing page _PAGE_ of _PAGES_",
            "sSearch": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>',
            "sSearchPlaceholder": "Search...",
            "sLengthMenu": "Results :  _MENU_",
        },
        "stripeClasses": [],
        "lengthMenu": [5, 10, 20, 50],
        "pageLength": 10
    });

    multiCheck(c3);
</script>
<script>
    $('#zero-config').DataTable({
        "dom": "<'dt--top-section'<'row'<'col-12 col-sm-6 d-flex justify-content-sm-start justify-content-center'l><'col-12 col-sm-6 d-flex justify-content-sm-end justify-content-center mt-sm-0 mt-3'f>>>" +
            "<'table-responsive'tr>" +
            "<'dt--bottom-section d-sm-flex justify-content-sm-between text-center'<'dt--pages-count  mb-sm-0 mb-3'i><'dt--pagination'p>>",
        "oLanguage": {
            "oPaginate": {
                "sPrevious": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',
                "sNext": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>'
            },
            "sInfo": "Showing page _PAGE_ of _PAGES_",
            "sSearch": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>',
            "sSearchPlaceholder": "Search...",
            "sLengthMenu": "Results :  _MENU_",
        },
        "stripeClasses": [],
        "lengthMenu": [7, 10, 20, 50],
        "pageLength": 10
    });

    $('.zero-config').DataTable({
        "dom": "<'dt--top-section'<'row'<'col-12 col-sm-6 d-flex justify-content-sm-start justify-content-center'l><'col-12 col-sm-6 d-flex justify-content-sm-end justify-content-center mt-sm-0 mt-3'f>>>" +
            "<'table-responsive'tr>" +
            "<'dt--bottom-section d-sm-flex justify-content-sm-between text-center'<'dt--pages-count  mb-sm-0 mb-3'i><'dt--pagination'p>>",
        "oLanguage": {
            "oPaginate": {
                "sPrevious": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',
                "sNext": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>'
            },
            "sInfo": "Showing page _PAGE_ of _PAGES_",
            "sSearch": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>',
            "sSearchPlaceholder": "Search...",
            "sLengthMenu": "Results :  _MENU_",
        },
        "stripeClasses": [],
        "lengthMenu": [7, 10, 20, 50],
        "pageLength": 10,
        initComplete: function() {
            const column = this.api().column(1);
            const select = $('#customColumnFilter');

            column.data().unique().sort().each(function(d, j) {
                select.append('<option value="' + d + '">' + d + '</option>');
            });

            select.on('change', function() {
                const val = $.fn.dataTable.util.escapeRegex($(this).val());
                column.search(val ? '^' + val + '$' : '', true, false).draw();
            });
        }
    });

    $(document).ready(function() {
        $('#queryType').select2({
            placeholder: "Select query type",
            allowClear: true,
            width: '100%'
        });
    });
</script>

<!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->

<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        const fileInput = document.querySelector('input[name="slider_image"]');
        const errorDiv = document.getElementById('sliderImageError');

        fileInput.addEventListener('change', function() {
            const file = this.files[0];
            errorDiv.textContent = ''; // Clear previous errors

            if (!file) return;

            // Validate file size (250KB max)
            if (file.size > 256000) {
                errorDiv.textContent = "File size must be less than 250KB.";
                this.value = ''; // Reset file input
                return;
            }

            // Validate file type (.jpg or .png)
            const allowedTypes = ['image/png', 'image/jpg', 'image/jpeg'];
            if (!allowedTypes.includes(file.type)) {
                errorDiv.textContent = "Only JPG and PNG files are allowed.";
                this.value = ''; // Reset file input
            }
        });
    });
</script>


<!-- 

<script>
    $(document).on('submit', '.sliderupdate-form', function(e) {
        e.preventDefault();

        let form = $(this);
        let sliderId = form.data('id');
        let url = form.data('url');
        let formData = new FormData(this);

        $.ajax({
            url: `${url}/${sliderId}`,
            type: 'POST',
            data: formData,
            contentType: false,
            processData: false,
            success: function(response) {
                if (response.success && response.slider) {
                    $('#editModal' + sliderId).modal('hide');

                    const slider = response.slider;

                    const statusLabel = slider.slider_status == 1 ?
                        'Published' :
                        slider.slider_status == 0 ?
                        'Draft' :
                        'Disabled';

                    const rowClass = slider.slider_status == 1 ? 'table-success' : '';

                    const updatedRow = `
            <tr id="slider-row-${slider.id}" class="${rowClass}">
                <td class="text-center index">#</td>
                
                <td class="text-center slider-name">${slider.slider_name}</td>
              
                
                <td class="text-center slider-caption">${slider.slider_caption || ''}</td>
                  
                <td class="text-center">
                    <a href="/portaladmin/slider/${slider.slider_image}" class="defaultGlightbox glightbox-content">
                        <img src="/portaladmin/slider/${slider.slider_image}" alt="${slider.slider_name}" class="img-fluid" width="200px;" />
                    </a>
                </td>
                <td class="text-center index">${slider.updated_at.substring(0, 10)}</td>
                <td class="text-center slider-caption">${statusLabel}</td>
                <td class="text-center">
                    <div class="action-btns">
                        <i class="fa fa-edit text-primary me-2 cursor-pointer"
                           data-bs-toggle="modal"
                           data-bs-target="#editModal${slider.id}"
                           title="Edit"></i>
                    </div>
                </td>
            </tr>`;

                    // Replace the row
                    $('#slider-row-' + slider.id).replaceWith(updatedRow);

                    // Re-index
                    $('#sliderTableBody tr').each(function(index) {
                        $(this).find('td.index:first').text(index + 1);
                    });

                    // Reinitialize Glightbox
                    if (typeof GLightbox !== 'undefined') {
                        GLightbox({
                            selector: '.defaultGlightbox'
                        });
                    }
                } else {
                    alert(response.message || 'Update failed.');
                }
            },
            error: function() {
                alert('An error occurred during update.');
            }
        });
    });
</script> -->

<script>
    // Delete button click (delegated)
    $(document).on('click', '[id^=deleteSliderBtn]', function() {
        var sliderId = $(this).data('id');
        var url = `/admin/homesliderdelete/${sliderId}`;

        $.ajax({
            url: url,
            type: 'DELETE',
            data: {
                _token: $('meta[name="csrf-token"]').attr('content')
            },
            success: function(response) {
                if (response.success) {
                    $('#deleteModal' + sliderId).modal('hide');
                    $('#slider-row-' + sliderId).remove();
                    // Optionally refresh table via AJAX
                } else {
                    alert('Delete failed: ' + response.message);
                }
            },
            error: function() {
                alert('An error occurred while deleting.');
            }
        });
    });
</script>

<script>
    (function() {
        //all menus
        var dropDownMenus = document.getElementsByClassName("lateralDropDownContainer");

        for (let i = 0; i < dropDownMenus.length; i++) {

            //all dropMenu in this menu
            let dropDownItems = dropDownMenus[i].getElementsByClassName("dropDownItem");

            for (let j = 0; j < dropDownItems.length; j++) {

                //button
                let accordionMenu = dropDownItems[j].getElementsByClassName("accordionMenu")[0];

                //if sub content
                if (accordionMenu.nextElementSibling != null) {
                    accordionMenu.dropDownItem = dropDownItems[j]; //save parent

                    //add arrow (based on google font symbole)
                    accordionMenu.getElementsByTagName("h4")[0].insertAdjacentHTML('afterend', "<span class='arrow material-icons'>chevron_right</span>");

                    accordionMenu.addEventListener("click", function() {
                        this.dropDownItem.classList.toggle("active");

                        var panel = this.nextElementSibling;
                        if (panel.style.maxHeight) {
                            panel.style.maxHeight = null;
                        } else {
                            panel.style.maxHeight = panel.scrollHeight + "px";
                        }
                    });
                }
            }
        }
    })();
</script>


<script>
    $(document).on('click', '.deleteMenu', function() {
        const menuId = $(this).data('id');

        Swal.fire({
            title: 'Are you sure?',
            text: "This will mark the menu as inactive.",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Yes, deactivate it!',
            cancelButtonText: 'Cancel',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                $.ajax({
                    url: `/admin/menus/${menuId}/deactivate`, // Route (see below)
                    type: 'POST',
                    headers: {
                        'X-CSRF-TOKEN': '{{ csrf_token() }}'
                    },
                    success: function(response) {
                        if (response.success) {
                            Swal.fire('Deactivated!', response.message, 'success');

                            // Optionally, update the row UI
                            const badge = $(`tr[data-id="${menuId}"]`).find('.badge');
                            badge.removeClass('badge-success').addClass('badge-dark').text('Inactive');
                        } else {
                            Swal.fire('Failed', response.message || 'Could not deactivate.', 'error');
                        }
                    },
                    error: function() {
                        Swal.fire('Error', 'Something went wrong.', 'error');
                    }
                });
            }
        });
    });
</script>


<script>
    $(document).on('click', '.toggleStatus', function() {
        const menuId = $(this).data('id');
        const newStatus = $(this).data('status');
        const isActivating = newStatus == 1;

        Swal.fire({
            title: isActivating ? 'Activate this menu?' : 'Deactivate this menu?',
            icon: isActivating ? 'question' : 'warning',
            showCancelButton: true,
            confirmButtonText: isActivating ? 'Yes, activate it!' : 'Yes, deactivate it!',
            cancelButtonText: 'Cancel',
        }).then((result) => {
            if (result.isConfirmed) {
                $.ajax({
                    url: `/admin/menus/${menuId}/toggle-status`,
                    type: 'POST',
                    data: {
                        status: newStatus
                    },
                    headers: {
                        'X-CSRF-TOKEN': '{{ csrf_token() }}'
                    },
                    success: function(response) {
                        if (response.success) {
                            Swal.fire('Success!', response.message, 'success');

                            // Update status badge
                            const row = $(`tr[data-id="${menuId}"]`);
                            const badge = row.find('.badge');
                            const controlList = row.find('.table-controls');

                            if (newStatus == 1) {
                                badge.removeClass('badge-dark').addClass('badge-success').text('Active');
                            } else {
                                badge.removeClass('badge-success').addClass('badge-dark').text('Inactive');
                            }

                            // Rebuild control icons
                            controlList.find('.toggleStatus').parent().remove(); // Remove existing toggleStatus icon

                            controlList.append(`
                            <li>
                                <a href="javascript:void(0);" class="toggleStatus bs-tooltip"
                                   data-id="${menuId}" data-status="${newStatus == 1 ? 0 : 1}"
                                   title="${newStatus == 1 ? 'Deactivate' : 'Activate'}">
                                    ${newStatus == 1 ?
                                        `<svg class="feather feather-trash p-1 br-8 mb-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        </svg>` :
                                        `<svg class="feather feather-check-circle p-1 br-8 mb-1" xmlns="http://www.w3.org/2000/svg" width="24"
                                            height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M9 11l3 3L22 4"></path>
                                            <circle cx="12" cy="12" r="10"></circle>
                                        </svg>`}
                                </a>
                            </li>
                        `);
                        } else {
                            Swal.fire('Error', response.message || 'Action failed.', 'error');
                        }
                    },
                    error: function() {
                        Swal.fire('Error', 'Server error occurred.', 'error');
                    }
                });
            }
        });
    });
</script>


<!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
<!-- <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script> -->
<!-- 

<script>
    $(function() {
        $("#sortable-menu").sortable({
            placeholder: "ui-state-highlight",
            update: function(event, ui) {
                let order = [];
                $('#sortable-menu tr').each(function(index, element) {
                    order.push({
                        id: $(element).data('id'),
                        position: index + 1
                    });
                });
                alert('111');
                // Send order via AJAX
                $.ajax({
                    url: '{{ route("admin.menu.reorder") }}', // Create this route in Laravel
                    method: 'POST',
                    data: {
                        order: order,
                        _token: '{{ csrf_token() }}'
                    },
                    success: function(response) {
                        console.log(response);
                        // Optionally, show a success alert
                    },
                    error: function(err) {
                        console.error('Sorting failed', err);
                    }
                });
            }
        });
        $("#sortable-menu").disableSelection();
    });
</script> -->

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Enable jQuery UI Sortable
        $('#sortable-menu').sortable({
            update: function(event, ui) {
                let data = [];
                $('#sortable-menu tr').each(function(index) {
                    let id = $(this).data('id');
                    data.push({
                        id: id,
                        order_id: index + 1
                    });
                });

                // Send new order to the backend
                $.ajax({
                    url: '{{ route("admin.menu.reorder") }}', // Adjust URL if needed
                    method: 'POST',
                    data: {
                        data: data,
                        _token: '{{ csrf_token() }}'
                    },
                    success: function(response) {
                        if (response.status === 'success') {
                            $('#reorderAlert').removeClass('d-none').fadeIn();

                            // Hide after 3 seconds
                            setTimeout(function() {
                                $('#reorderAlert').fadeOut();
                            }, 3000);
                        } else {
                            alert('Reorder failed: ' + response.message);
                        }
                    },
                    error: function(xhr) {
                        alert('AJAX error: ' + xhr.responseText);
                    }

                });
            }
        });
    });
</script>
<script>
    $(document).ready(function() {
        $('.editMenu').on('click', function() {
            $('#menuFormedit input[name="menu_name_en"]').val($(this).data('menu_name_en'));
            $('#menuFormedit input[name="menu_name_ta"]').val($(this).data('menu_name_ta'));
            $('#menuFormedit input[name="page_url"]').val($(this).data('page_url'));
            $('#menuFormedit input[name="page_url_ta"]').val($(this).data('page_url_ta'));
            $('#menuFormedit select[name="page_type"]').val($(this).data('page_type'));
            $('#menu_id').val(el.data('id'));
            // $('#menu_id').val(el.data('id'));

        });
    });
</script>
<!-- ------------------------   Submenu ----------------------------------------------------------------- -->


<!-- 

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Enable jQuery UI Sortable
        $('#sortable-submenu').sortable({
            update: function(event, ui) {
                let data = [];
                $('#sortable-submenu tr').each(function(index) {
                    let id = $(this).data('id');
                    data.push({
                        id: id,
                        order_id: index + 1
                    });
                });

                // Send new order to the backend
                $.ajax({
                    url: '{{ route("admin.submenu.reorders") }}', // Adjust URL if needed
                    method: 'POST',
                    data: {
                        data: data,
                        _token: '{{ csrf_token() }}'
                    },
                    success: function(response) {
                        if (response.status === 'success') {
                            $('#reorderAlert').removeClass('d-none').fadeIn();

                            // Hide after 3 seconds
                            setTimeout(function() {
                                $('#reorderAlert').fadeOut();
                            }, 3000);
                        } else {
                            alert('Reorder failed: ' + response.message);
                        }
                    },
                    error: function(xhr) {
                        alert('AJAX error: ' + xhr.responseText);
                    }

                });
            }
        });
    });
</script> -->





<script>
    $(document).on('click', '.deleteMenu', function() {
        const menuId = $(this).data('id');

        Swal.fire({
            title: 'Are you sure?',
            text: "This will mark the menu as inactive.",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Yes, deactivate it!',
            cancelButtonText: 'Cancel',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                $.ajax({
                    url: `/admin/submenus/${menuId}/deactivatesubmenu`, // Route (see below)
                    type: 'POST',
                    headers: {
                        'X-CSRF-TOKEN': '{{ csrf_token() }}'
                    },
                    success: function(response) {
                        if (response.success) {
                            Swal.fire('Deactivated!', response.message, 'success');

                            // Optionally, update the row UI
                            const badge = $(`tr[data-id="${menuId}"]`).find('.badge');
                            badge.removeClass('badge-success').addClass('badge-dark').text('Inactive');
                        } else {
                            Swal.fire('Failed', response.message || 'Could not deactivate.', 'error');
                        }
                    },
                    error: function() {
                        Swal.fire('Error', 'Something went wrong.', 'error');
                    }
                });
            }
        });
    });
</script>
<script>
    $(document).on('click', '.toggleStatussubmenu', function() {
        alert('111');
        const menuId = $(this).data('id');
        const newStatus = $(this).data('status');
        const isActivating = newStatus == 1;

        Swal.fire({
            title: isActivating ? 'Activate this menu?' : 'Deactivate this menu?',
            icon: isActivating ? 'question' : 'warning',
            showCancelButton: true,
            confirmButtonText: isActivating ? 'Yes, activate it!' : 'Yes, deactivate it!',
            cancelButtonText: 'Cancel',
        }).then((result) => {
            if (result.isConfirmed) {
                $.ajax({
                    url: `/admin/submenus/${menuId}/toggle-statussubmenu`,
                    type: 'POST',
                    data: {
                        status: newStatus
                    },
                    headers: {
                        'X-CSRF-TOKEN': '{{ csrf_token() }}'
                    },
                    success: function(response) {
                        if (response.success) {
                            Swal.fire('Success!', response.message, 'success');

                            // Update status badge
                            const row = $(`tr[data-id="${menuId}"]`);
                            const badge = row.find('.badge');
                            const controlList = row.find('.table-controls');

                            if (newStatus == 1) {
                                badge.removeClass('badge-dark').addClass('badge-success').text('Active');
                            } else {
                                badge.removeClass('badge-success').addClass('badge-dark').text('Inactive');
                            }

                            // Rebuild control icons
                            controlList.find('.toggleStatussubmenu').parent().remove(); // Remove existing toggleStatus icon

                            controlList.append(`
                            <li>
                                <a href="javascript:void(0);" class="toggleStatussubmenu bs-tooltip"
                                   data-id="${menuId}" data-status="${newStatus == 1 ? 0 : 1}"
                                   title="${newStatus == 1 ? 'Deactivate' : 'Activate'}">
                                    ${newStatus == 1 ?
                                        `<svg class="feather feather-trash p-1 br-8 mb-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        </svg>` :
                                        `<svg class="feather feather-check-circle p-1 br-8 mb-1" xmlns="http://www.w3.org/2000/svg" width="24"
                                            height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M9 11l3 3L22 4"></path>
                                            <circle cx="12" cy="12" r="10"></circle>
                                        </svg>`}
                                </a>
                            </li>
                        `);
                        } else {
                            Swal.fire('Error', response.message || 'Action failed.', 'error');
                        }
                    },
                    error: function() {
                        Swal.fire('Error', 'Server error occurred.', 'error');
                    }
                });
            }
        });
    });
</script>



<script>
    $(document).ready(function() {
        $('#newsboard_en').summernote({
            height: 200,
            placeholder: 'Enter content here...',
            toolbar: [
                ['style', ['bold', 'italic', 'underline', 'clear']],
                ['font', ['strikethrough', 'superscript', 'subscript']],
                ['fontsize', ['fontsize']],
                ['color', ['color']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['insert', ['link', 'picture', 'video']],
                ['view', ['fullscreen', 'codeview']]
            ]
        });
    });
</script>

<script>
    $(document).ready(function() {
        $('#newsboard_ta').summernote({
            height: 200,
            placeholder: 'Enter content here...',
            toolbar: [
                ['style', ['bold', 'italic', 'underline', 'clear']],
                ['font', ['strikethrough', 'superscript', 'subscript']],
                ['fontsize', ['fontsize']],
                ['color', ['color']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['insert', ['link', 'picture', 'video']],
                ['view', ['fullscreen', 'codeview']]
            ]
        });
    });
</script>
<script>
    $(document).ready(function() {
        // Initialize Summernote
        $('#newsboard_en').summernote({
            height: 200
        });

        // When Edit button is clicked
        $('.edit-newsboard-btn').on('click', function() {
            var content = $(this).data('content');
            var id = $(this).data('id');

            $('#newsboard_en').summernote('code', content);
            $('#newsboard_id').val(id);
        });
    });
</script>
<script>
    $(document).ready(function() {
        // Initialize Summernote
        $('#newsboard_en, #newsboard_ta').summernote({
            height: 200
        });

        // ======== English Edit Modal =========
        $('.edit-newsboard-btn').on('click', function() {
            var content = $(this).data('content');
            var id = $(this).data('id');
            var heading = $(this).data('heading');

            $('#newsboard_en').summernote('code', content);
            $('#newsboard_id').val(id);
            $('#inputFormModal input[name="heading"]').val(heading);
        });

    

        // ======== Tamil Edit Modal =========
        $('.edit-newsboard-tamil-btn').on('click', function() {
            var content = $(this).data('content');
            var id = $(this).data('id');
            var heading = $(this).data('heading');

            $('#newsboard_ta').summernote('code', content);
            $('#newsboard_ta_id').val(id);
            $('#inputFormModalTamil input[name="heading"]').val(heading);
        });

        $('#update_tamil').on('submit', function(e) {
            e.preventDefault();

            var id = $('#newsboard_ta_id').val();
            var content = $('#newsboard_ta').summernote('code');
            var heading = $('#inputFormModalTamil input[name="heading"]').val();

            $.ajax({
                url: "{{ route('admin.newsboard.updatetamil') }}",
                method: "POST",
                data: {
                    _token: "{{ csrf_token() }}",
                    id: id,
                    heading: heading,
                    newsboard_ta: content
                },
                success: function(response) {
                    alert('Tamil News Board updated successfully!');
                    $('#inputFormModalTamil').modal('hide');
                },
                error: function(xhr) {
                    alert('Error updating Tamil newsboard.');
                    console.log(xhr.responseText);
                }
            });
        });
    });
</script>



<!-- END PAGE LEVEL SCRIPTS -->